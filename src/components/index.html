<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    body {
      height: 250vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .box {
      width: 500px;
      height: 500px;
      background: rgb(40 40 190 / 100%);
      transition: background-color 1s;
    }
  </style>
  <body>
    <div class="box"></div>
  </body>
  <script>
    let options = {
      root: null,
      rootMargin: "0px",
      thresholds: [0, 0.25, 0.5, 0.75, 1.0],
    };

    let box = document.querySelector(".box");

    const callback = (entries, observer) => {
      entries.forEach((entry) => {
        entry.isIntersecting
          ? (box.style.backgroundColor = "rgb(190 40 40 / 100%)")
          : (box.style.backgroundColor = "white");
      });
    };

    let observer = new IntersectionObserver(callback, options);

    observer.observe(box);
  </script>
</html>
